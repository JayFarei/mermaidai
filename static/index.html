<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>JavaScript Playground</title>
		<style>
		body {
			font-family: 'Segoe UI', Arial, sans-serif;
			max-width: 1200px;
			margin: 0 auto;
			padding: 20px;
			background-color: #f5f5f5;
			color: #333;
		}

		h1 {
			color: #2c3e50;
			border-bottom: 2px solid #3498db;
			padding-bottom: 10px;
		}

		.container {
			max-width: 800px;
			margin: 0 auto;
		}

		.status {
			display: inline-block;
			padding: 8px 16px;
			border-radius: 4px;
			font-size: 14px;
			margin-bottom: 20px;
		}

		.status.connecting {
			background-color: #ffeeba;
			color: #856404;
			border: 1px solid #ffeeba;
		}

		.status.connected {
			background-color: #d4edda;
			color: #155724;
			border: 1px solid #c3e6cb;
		}

		#errorContainer {
			position: fixed;
			top: -100px;
			left: 0;
			right: 0;
			background-color: #f8d7da;
			color: #721c24;
			padding: 15px;
			border: 1px solid #f5c6cb;
			border-radius: 0 0 8px 8px;
			margin: 0 auto;
			max-width: 800px;
			z-index: 1000;
			transition: top 0.3s ease-in-out;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		#errorContainer.show {
			top: 0;
		}

		#errorClose {
			background: none;
			border: none;
			color: #721c24;
			font-size: 20px;
			cursor: pointer;
			padding: 0 5px;
			margin: 0;
		}

		#errorClose:hover {
			opacity: 0.7;
		}

		#diagram {
			background-color: white;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
			margin: 20px 0;
			width: 100%;
			box-sizing: border-box;
		}

		#diagramDefinition, #contextInput {
			width: 100%;
			padding: 15px;
			border: 1px solid #ddd;
			border-radius: 8px;
			font-family: monospace;
			font-size: 14px;
			resize: vertical;
			background-color: white;
			box-sizing: border-box;
			margin: 20px 0;
		}

		.label {
			font-weight: bold;
			color: #2c3e50;
			margin-bottom: 5px;
			display: block;
		}

		button {
			background-color: #3498db;
			color: white;
			border: none;
			padding: 12px 24px;
			border-radius: 6px;
			cursor: pointer;
			font-size: 16px;
			transition: background-color 0.3s;
			margin-bottom: 20px;
		}

		button:hover {
			background-color: #2980b9;
		}

		#updateContext {
			background-color: #2ecc71;
		}

		#updateContext:disabled {
			background-color: #bdc3c7;
			cursor: not-allowed;
		}

		#updateContext:disabled:hover {
			background-color: #bdc3c7;
		}

		#toggleMute {
			background-color: #e74c3c;
			margin-left: 10px;
		}

		#toggleMute:hover {
			background-color: #c0392b;
		}

		#toggleMute.muted {
			background-color: #95a5a6;
		}

		#toggleMute.muted:hover {
			background-color: #7f8c8d;
		}

		p {
			line-height: 1.6;
			color: #666;
		}

		button:hover {
			background-color: #2980b9;
		}

		button:disabled {
			background-color: #bdc3c7;
			cursor: not-allowed;
		}

		button:disabled:hover {
			background-color: #bdc3c7;
		}
		</style>
	</head>
	<body>
		<div id="errorContainer">
			<span id="errorMessage"></span>
			<button id="errorClose">&times;</button>
		</div>
		<div class="container">
			<h1>OpenAI Realtime API: Mermaid Editor</h1>
			<div id="status" class="status connecting">Connecting to OpenAI...</div>
			<button id="toggleMute">Mute Mic</button>
			<pre id="diagram" class="mermaid"></pre>

			<label class="label" for="diagramDefinition">Diagram Definition:</label>
			<textarea id="diagramDefinition" rows="10" cols="50"></textarea>
			<button id="update">Update Diagram</button>

			<label class="label" for="contextInput">Context / Instructions:</label>
			<textarea id="contextInput" rows="3" placeholder="Add any context or specific instructions here..."></textarea>
			<button id="updateContext">Update Context</button>
		</div>
		<script type="module" src="main.mjs"></script>
	</body>
</html>

